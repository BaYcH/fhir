map "http://hl7.org/fhir/StructureMap/DocumentReference2to3" = "R2 to R3 Conversions for DocumentReference"

uses "http://hl7.org/fhir/DSTU2/StructureDefinition/DocumentReference" alias DocumentReferenceR2 as source
uses "http://hl7.org/fhir/StructureDefinition/DocumentReference" alias DocumentReference as target

imports "http://hl7.org/fhir/StructureMap/primitives2to3"
imports "http://hl7.org/fhir/StructureMap/DomainResource2to3"
imports "http://hl7.org/fhir/StructureMap/Attachment2to3"
imports "http://hl7.org/fhir/StructureMap/Identifier2to3"
imports "http://hl7.org/fhir/StructureMap/Coding2to3"
imports "http://hl7.org/fhir/StructureMap/Reference2to3"
imports "http://hl7.org/fhir/StructureMap/Period2to3"
imports "http://hl7.org/fhir/StructureMap/CodeableConcept2to3"

group for type+types  DocumentReference extends DomainResource
  input src : DocumentReferenceR2 as source
  input tgt : DocumentReference as target

  "DocumentReference-masterIdentifier" : for src.masterIdentifier make tgt.masterIdentifier
  "DocumentReference-identifier" : for src.identifier make tgt.identifier
  "DocumentReference-subject" : for src.subject make tgt.subject
  "DocumentReference-type" : for src.type make tgt.type
  "DocumentReference-class" : for src.class make tgt.class
  "DocumentReference-author" : for src.author make tgt.author
  "DocumentReference-custodian" : for src.custodian make tgt.custodian
  "DocumentReference-authenticator" : for src.authenticator make tgt.authenticator
  "DocumentReference-created" : for src.created make tgt.created
  "DocumentReference-indexed" : for src.indexed make tgt.indexed
  "DocumentReference-status" : for src.status make tgt.status
  "DocumentReference-docStatus" : for src.docStatus make tgt.docStatus
  "DocumentReference-relatesTo" : for src.relatesTo as vs0 make tgt.relatesTo as vt0 then {
    "DocumentReference.relatesTo-code" : for vs0.code make vt0.code
    "DocumentReference.relatesTo-target" : for vs0.target make vt0.target
  }

  "DocumentReference-description" : for src.description make tgt.description
  "DocumentReference-securityLabel" : for src.securityLabel make tgt.securityLabel
  "DocumentReference-content" : for src.content as vs0 make tgt.content as vt0 then {
    "DocumentReference.content-attachment" : for vs0.attachment make vt0.attachment
    "DocumentReference.content-format" : for vs0.format make vt0.format
  }

  "DocumentReference-context" : for src.context as vs0 make tgt.context as vt0 then {
    "DocumentReference.context-encounter" : for vs0.encounter make vt0.encounter
    "DocumentReference.context-event" : for vs0.event make vt0.event
    "DocumentReference.context-period" : for vs0.period make vt0.period
    "DocumentReference.context-facilityType" : for vs0.facilityType make vt0.facilityType
    "DocumentReference.context-practiceSetting" : for vs0.practiceSetting make vt0.practiceSetting
    "DocumentReference.context-sourcePatientInfo" : for vs0.sourcePatientInfo make vt0.sourcePatientInfo
  }


endgroup
