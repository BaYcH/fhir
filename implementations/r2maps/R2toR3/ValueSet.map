map "http://hl7.org/fhir/StructureMap/ValueSet2to3" = "R2 to R3 Conversions for ValueSet"

uses "http://hl7.org/fhir/DSTU2/StructureDefinition/ValueSet" alias ValueSetR2 as source
uses "http://hl7.org/fhir/StructureDefinition/ValueSet" alias ValueSet as target

imports "http://hl7.org/fhir/StructureMap/primitives2to3"
imports "http://hl7.org/fhir/StructureMap/DomainResource2to3"
imports "http://hl7.org/fhir/StructureMap/ContactPoint2to3"
imports "http://hl7.org/fhir/StructureMap/Identifier2to3"

group for type+types  ValueSet extends DomainResource
  input src : ValueSetR2 as source
  input tgt : ValueSet as target

  "ValueSet-url" : for src.url make tgt.url
  "ValueSet-identifier" : for src.identifier make tgt.identifier
  "ValueSet-version" : for src.version make tgt.version
  "ValueSet-name" : for src.name make tgt.name
  "ValueSet-status" : for src.status make tgt.status
  "ValueSet-experimental" : for src.experimental make tgt.experimental
  "ValueSet-publisher" : for src.publisher make tgt.publisher
  "ValueSet-contact" : for src.contact as vs0 make tgt.contact as vt0 then {
    "ContactDetail-name" : for vs0.name make vt0.name
    "ContactDetail-telecom" : for vs0.telecom make vt0.telecom
  }

  "ValueSet-date" : for src.date make tgt.date
  "ValueSet-immutable" : for src.immutable make tgt.immutable
  "ValueSet-extensible" : for src.extensible make tgt.extensible
  "ValueSet-compose" : for src.compose as vs0 make tgt.compose as vt0
  "ValueSet-expansion" : for src.expansion as vs0 make tgt.expansion as vt0 then {
    "ValueSet.expansion-identifier" : for vs0.identifier make vt0.identifier
    "ValueSet.expansion-timestamp" : for vs0.timestamp make vt0.timestamp
    "ValueSet.expansion-total" : for vs0.total make vt0.total
    "ValueSet.expansion-offset" : for vs0.offset make vt0.offset
  }


endgroup
