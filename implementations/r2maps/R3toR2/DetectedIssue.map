map "http://hl7.org/fhir/StructureMap/DetectedIssue3to2" = "R3 to R2 Conversion for DetectedIssue"

uses "http://hl7.org/fhir/StructureDefinition/DetectedIssue" alias DetectedIssue as source
uses "http://hl7.org/fhir/DSTU2/StructureDefinition/DetectedIssue" alias DetectedIssueR2 as target

imports "http://hl7.org/fhir/StructureMap/primitives3to2"
imports "http://hl7.org/fhir/StructureMap/DomainResource3to2"
imports "http://hl7.org/fhir/StructureMap/Identifier3to2"
imports "http://hl7.org/fhir/StructureMap/Reference3to2"
imports "http://hl7.org/fhir/StructureMap/CodeableConcept3to2"

group for type+types  DetectedIssue extends DomainResource
  input src : DetectedIssue as source
  input tgt : DetectedIssueR2 as target

  "DetectedIssue-patient" : for src.patient make tgt.patient
  "DetectedIssue-category" : for src.category make tgt.category
  "DetectedIssue-severity" : for src.severity make tgt.severity
  "DetectedIssue-implicated" : for src.implicated make tgt.implicated
  "DetectedIssue-detail" : for src.detail make tgt.detail
  "DetectedIssue-date" : for src.date make tgt.date
  "DetectedIssue-author" : for src.author make tgt.author
  "DetectedIssue-identifier" : for src.identifier make tgt.identifier
  "DetectedIssue-reference" : for src.reference make tgt.reference
  "DetectedIssue-mitigation" : for src.mitigation as vs0 make tgt.mitigation as vt0 then {
    "DetectedIssue.mitigation-action" : for vs0.action make vt0.action
    "DetectedIssue.mitigation-date" : for vs0.date make vt0.date
    "DetectedIssue.mitigation-author" : for vs0.author make vt0.author
  }


endgroup
