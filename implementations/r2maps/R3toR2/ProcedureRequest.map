map "http://hl7.org/fhir/StructureMap/ProcedureRequest3to2" = "R3 to R2 Conversion for ProcedureRequest"

uses "http://hl7.org/fhir/StructureDefinition/ProcedureRequestR2" as source
uses "http://hl7.org/fhir/StructureDefinition/ProcedureRequest" as target


group ProcedureRequest extends Element
  input src : ProcedureRequest as source
  input tgt : ProcedureRequestR2 as Target
  "ProcedureRequest-identifier" : for src.identifier as vs make tgt.identifier as vt then Identifier(vs,vt)
  "ProcedureRequest-subject" : for src.subject as vs make tgt.subject as vt then Reference(vs,vt)
  "ProcedureRequest-code" : for src.code as vs make tgt.code as vt then CodeableConcept(vs,vt)
  "ProcedureRequest-bodySite" : for src.bodySite as vs make tgt.bodySite as vt then CodeableConcept(vs,vt)
  "ProcedureRequest-reason-CodeableConcept" : for src.reason  : CodeableConcept as vs make tgt.reason = create("CodeableConcept") as vt then CodeableConcept(vs,vt)
  "ProcedureRequest-reason-Reference" : for src.reason  : Reference as vs make tgt.reason = create("Reference") as vt then Reference(vs,vt)
  "ProcedureRequest-scheduled-dateTime" : for src.scheduled  : dateTime as vs make tgt.scheduled = create("dateTime") as vt then dateTime(vs,vt)
  "ProcedureRequest-scheduled-Period" : for src.scheduled  : Period as vs make tgt.scheduled = create("Period") as vt then Period(vs,vt)
  "ProcedureRequest-scheduled-Timing" : for src.scheduled  : Timing as vs make tgt.scheduled = create("Timing") as vt then Timing(vs,vt)
  "ProcedureRequest-encounter" : for src.encounter as vs make tgt.encounter as vt then Reference(vs,vt)
  "ProcedureRequest-performer" : for src.performer as vs make tgt.performer as vt then Reference(vs,vt)
  "ProcedureRequest-status" : for src.status as vs make tgt.status as vt then code(vs, vt)
  "ProcedureRequest-notes" : for src.notes as vs make tgt.notes as vt then Annotation(vs,vt)
  "ProcedureRequest-asNeeded-boolean" : for src.asNeeded  : boolean as vs make tgt.asNeeded = create("boolean") as vt then boolean(vs,vt)
  "ProcedureRequest-asNeeded-CodeableConcept" : for src.asNeeded  : CodeableConcept as vs make tgt.asNeeded = create("CodeableConcept") as vt then CodeableConcept(vs,vt)
  "ProcedureRequest-orderedOn" : for src.orderedOn as vs make tgt.orderedOn as vt then dateTime(vs, vt)
  "ProcedureRequest-orderer" : for src.orderer as vs make tgt.orderer as vt then Reference(vs,vt)
  "ProcedureRequest-priority" : for src.priority as vs make tgt.priority as vt then code(vs, vt)
endgroup

