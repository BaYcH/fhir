map "http://hl7.org/fhir/StructureMap/ImmunizationRecommendation3to2" = "R3 to R2 Conversion for ImmunizationRecommendation"


uses "http://hl7.org/fhir/StructureDefinition/ImmunizationRecommendation" alias ImmunizationRecommendation as source
uses "http://hl7.org/fhir/DSTU2/StructureDefinition/ImmunizationRecommendation" alias ImmunizationRecommendationR2 as target

imports "http://hl7.org/fhir/StructureMap/primitives3to2"
imports "http://hl7.org/fhir/StructureMap/Identifier3to2"
imports "http://hl7.org/fhir/StructureMap/Reference3to2"
imports "http://hl7.org/fhir/StructureMap/CodeableConcept3to2"



group ImmunizationRecommendation extends Element
  input src : ImmunizationRecommendation as source
  input tgt : ImmunizationRecommendationR2 as target
  "ImmunizationRecommendation-identifier" : for src.identifier as vs make tgt.identifier as vt then Identifier(vs,vt)
  "ImmunizationRecommendation-patient" : for src.patient as vs make tgt.patient as vt then Reference(vs,vt)
  "ImmunizationRecommendation-recommendation" : for src.recommendation as vs0 make tgt.recommendation as vt0 then {
    "ImmunizationRecommendation.recommendation-date" : for vs0.date as vs make vt0.date as vt then dateTime(vs, vt)
    "ImmunizationRecommendation.recommendation-vaccineCode" : for vs0.vaccineCode as vs make vt0.vaccineCode as vt then CodeableConcept(vs,vt)
    "ImmunizationRecommendation.recommendation-doseNumber" : for vs0.doseNumber as vs make vt0.doseNumber as vt then positiveInt(vs, vt)
    "ImmunizationRecommendation.recommendation-forecastStatus" : for vs0.forecastStatus as vs make vt0.forecastStatus as vt then CodeableConcept(vs,vt)
    "ImmunizationRecommendation.recommendation-supportingImmunization" : for vs0.supportingImmunization as vs make vt0.supportingImmunization as vt then Reference(vs,vt)
    "ImmunizationRecommendation.recommendation-supportingPatientInformation" : for vs0.supportingPatientInformation as vs make vt0.supportingPatientInformation as vt then Reference(vs,vt)
  }
endgroup

