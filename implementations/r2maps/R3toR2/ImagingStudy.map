map "http://hl7.org/fhir/StructureMap/ImagingStudy3to2" = "R3 to R2 Conversion for ImagingStudy"

uses "http://hl7.org/fhir/StructureDefinition/ImagingStudy" alias ImagingStudy as source
uses "http://hl7.org/fhir/DSTU2/StructureDefinition/ImagingStudy" alias ImagingStudyR2 as target

imports "http://hl7.org/fhir/StructureMap/primitives3to2"
imports "http://hl7.org/fhir/StructureMap/DomainResource3to2"
imports "http://hl7.org/fhir/StructureMap/Identifier3to2"
imports "http://hl7.org/fhir/StructureMap/Coding3to2"
imports "http://hl7.org/fhir/StructureMap/Reference3to2"

group for type+types  ImagingStudy extends DomainResource
  input src : ImagingStudy as source
  input tgt : ImagingStudyR2 as target

  "ImagingStudy-uid" : for src.uid make tgt.uid
  "ImagingStudy-accession" : for src.accession make tgt.accession
  "ImagingStudy-identifier" : for src.identifier make tgt.identifier
  "ImagingStudy-availability" : for src.availability make tgt.availability
  "ImagingStudy-modalityList" : for src.modalityList make tgt.modalityList
  "ImagingStudy-patient" : for src.patient make tgt.patient
  "ImagingStudy-started" : for src.started make tgt.started
  "ImagingStudy-referrer" : for src.referrer make tgt.referrer
  "ImagingStudy-interpreter" : for src.interpreter make tgt.interpreter
  "ImagingStudy-numberOfSeries" : for src.numberOfSeries make tgt.numberOfSeries
  "ImagingStudy-numberOfInstances" : for src.numberOfInstances make tgt.numberOfInstances
  "ImagingStudy-procedure" : for src.procedure make tgt.procedure
  "ImagingStudy-description" : for src.description make tgt.description
  "ImagingStudy-series" : for src.series as vs0 make tgt.series as vt0 then {
    "ImagingStudy.series-uid" : for vs0.uid make vt0.uid
    "ImagingStudy.series-number" : for vs0.number make vt0.number
    "ImagingStudy.series-modality" : for vs0.modality make vt0.modality
    "ImagingStudy.series-description" : for vs0.description make vt0.description
    "ImagingStudy.series-numberOfInstances" : for vs0.numberOfInstances make vt0.numberOfInstances
    "ImagingStudy.series-availability" : for vs0.availability make vt0.availability
    "ImagingStudy.series-bodySite" : for vs0.bodySite make vt0.bodySite
    "ImagingStudy.series-laterality" : for vs0.laterality make vt0.laterality
    "ImagingStudy.series-started" : for vs0.started make vt0.started
  }


endgroup
