map "http://hl7.org/fhir/StructureMap/CommunicationRequest3to2" = "R3 to R2 Conversion for CommunicationRequest"


uses "http://hl7.org/fhir/StructureDefinition/CommunicationRequest" alias CommunicationRequest as source
uses "http://hl7.org/fhir/DSTU2/StructureDefinition/CommunicationRequest" alias CommunicationRequestR2 as target

imports "http://hl7.org/fhir/StructureMap/primitives3to2"
imports "http://hl7.org/fhir/StructureMap/Attachment3to2"
imports "http://hl7.org/fhir/StructureMap/Identifier3to2"
imports "http://hl7.org/fhir/StructureMap/Reference3to2"
imports "http://hl7.org/fhir/StructureMap/Period3to2"
imports "http://hl7.org/fhir/StructureMap/CodeableConcept3to2"



group CommunicationRequest extends Element
  input src : CommunicationRequest as source
  input tgt : CommunicationRequestR2 as target
  "CommunicationRequest-identifier" : for src.identifier as vs make tgt.identifier as vt then Identifier(vs,vt)
  "CommunicationRequest-category" : for src.category as vs make tgt.category as vt then CodeableConcept(vs,vt)
  "CommunicationRequest-sender" : for src.sender as vs make tgt.sender as vt then Reference(vs,vt)
  "CommunicationRequest-recipient" : for src.recipient as vs make tgt.recipient as vt then Reference(vs,vt)
  "CommunicationRequest-payload" : for src.payload as vs0 make tgt.payload as vt0 then {
    "CommunicationRequest.payload-content-string" : for vs0.content  : string as vs make vt0.content = create("string") as vt then string(vs,vt)
    "CommunicationRequest.payload-content-Attachment" : for vs0.content  : Attachment as vs make vt0.content = create("Attachment") as vt then Attachment(vs,vt)
    "CommunicationRequest.payload-content-Reference" : for vs0.content  : Reference as vs make vt0.content = create("Reference") as vt then Reference(vs,vt)
  }
  "CommunicationRequest-medium" : for src.medium as vs make tgt.medium as vt then CodeableConcept(vs,vt)
  "CommunicationRequest-requester" : for src.requester as vs make tgt.requester as vt then Reference(vs,vt)
  "CommunicationRequest-status" : for src.status as vs make tgt.status as vt then code(vs, vt)
  "CommunicationRequest-encounter" : for src.context as vs make tgt.encounter as vt then Reference(vs,vt)
  "CommunicationRequest-scheduled-dateTime" : for src.scheduled  : dateTime as vs make tgt.scheduled = create("dateTime") as vt then dateTime(vs,vt)
  "CommunicationRequest-scheduled-Period" : for src.scheduled  : Period as vs make tgt.scheduled = create("Period") as vt then Period(vs,vt)
  "CommunicationRequest-reason" : for src.reason as vs make tgt.reason as vt then CodeableConcept(vs,vt)
  "CommunicationRequest-requestedOn" : for src.requestedOn as vs make tgt.requestedOn as vt then dateTime(vs, vt)
  "CommunicationRequest-subject" : for src.subject as vs make tgt.subject as vt then Reference(vs,vt)
  "CommunicationRequest-priority" : for src.priority as vs make tgt.priority as vt then CodeableConcept(vs,vt)
endgroup

