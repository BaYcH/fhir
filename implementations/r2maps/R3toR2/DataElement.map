map "http://hl7.org/fhir/StructureMap/DataElement3to2" = "R3 to R2 Conversion for DataElement"

uses "http://hl7.org/fhir/StructureDefinition/DataElement" alias DataElement as source
uses "http://hl7.org/fhir/DSTU2/StructureDefinition/DataElement" alias DataElementR2 as target

imports "http://hl7.org/fhir/StructureMap/primitives3to2"
imports "http://hl7.org/fhir/StructureMap/DomainResource3to2"
imports "http://hl7.org/fhir/StructureMap/ContactPoint3to2"
imports "http://hl7.org/fhir/StructureMap/Identifier3to2"
imports "http://hl7.org/fhir/StructureMap/ElementDefinition3to2"
imports "http://hl7.org/fhir/StructureMap/CodeableConcept3to2"

group for type+types  DataElement extends DomainResource
  input src : DataElement as source
  input tgt : DataElementR2 as target

  "DataElement-url" : for src.url make tgt.url
  "DataElement-identifier" : for src.identifier make tgt.identifier
  "DataElement-version" : for src.version make tgt.version
  "DataElement-status" : for src.status make tgt.status
  "DataElement-experimental" : for src.experimental make tgt.experimental
  "DataElement-publisher" : for src.publisher make tgt.publisher
  "DataElement-date" : for src.date make tgt.date
  "DataElement-name" : for src.name make tgt.name
  "DataElement-contact" : for src.contact as vs0 make tgt.contact as vt0 then {
    "DataElement.contact-name" : for vs0.name make vt0.name
    "DataElement.contact-telecom" : for vs0.telecom make vt0.telecom
  }

  "DataElement-useContext" : for src.jurisdiction make tgt.useContext
  "DataElement-stringency" : for src.stringency make tgt.stringency
  "DataElement-mapping" : for src.mapping as vs0 make tgt.mapping as vt0 then {
    "DataElement.mapping-identity" : for vs0.identity make vt0.identity
    "DataElement.mapping-uri" : for vs0.uri make vt0.uri
    "DataElement.mapping-name" : for vs0.name make vt0.name
    "DataElement.mapping-comments" : for vs0.comment make vt0.comments
  }

  "DataElement-element" : for src.element make tgt.element

endgroup
