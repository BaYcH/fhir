map "http://hl7.org/fhir/StructureMap/MedicationDispense4to3" = "R4 to R3 Conversion for MedicationDispense"


uses "http://hl7.org/fhir/StructureDefinition/MedicationDispense" alias MedicationDispense as source
uses "http://hl7.org/fhir/3.0/StructureDefinition/MedicationDispense" alias MedicationDispenseR3 as target

imports "http://hl7.org/fhir/StructureMap/*4to3"



group for type+types MedicationDispense extends DomainResource
  input src : MedicationDispense as source
  input tgt : MedicationDispenseR3 as target

  "MedicationDispense.identifier" : for src.identifier make tgt.identifier 
  "MedicationDispense.partOf" : for src.partOf make tgt.partOf 
  "MedicationDispense.status" : for src.status make tgt.status 
  "MedicationDispense.category" : for src.category make tgt.category 
  "MedicationDispense.medication-CodeableConcept" : for src.medication : CodeableConcept as vs make tgt.medication = create("CodeableConcept") as vt then CodeableConcept(vs,vt)
  "MedicationDispense.medication-Reference" : for src.medication : Reference as vs make tgt.medication = create("Reference") as vt then Reference(vs,vt)
  "MedicationDispense.subject" : for src.subject make tgt.subject 
  "MedicationDispense.context" : for src.context make tgt.context 
  "MedicationDispense.supportingInformation" : for src.supportingInformation make tgt.supportingInformation 
  "MedicationDispense.performer" : for src.performer as vs0 make tgt.performer as vt0 then {
    "MedicationDispense.performer.actor" : for vs0.actor make vt0.actor 
  }
  "MedicationDispense.authorizingPrescription" : for src.authorizingPrescription make tgt.authorizingPrescription 
  "MedicationDispense.type" : for src.type make tgt.type 
  "MedicationDispense.quantity" : for src.quantity make tgt.quantity 
  "MedicationDispense.daysSupply" : for src.daysSupply make tgt.daysSupply 
  "MedicationDispense.whenPrepared" : for src.whenPrepared make tgt.whenPrepared 
  "MedicationDispense.whenHandedOver" : for src.whenHandedOver make tgt.whenHandedOver 
  "MedicationDispense.destination" : for src.destination make tgt.destination 
  "MedicationDispense.receiver" : for src.receiver make tgt.receiver 
  "MedicationDispense.note" : for src.note make tgt.note 
  "MedicationDispense.dosageInstruction" : for src.dosageInstruction make tgt.dosageInstruction 
  "MedicationDispense.substitution" : for src.substitution as vs0 make tgt.substitution as vt0 then {
    "MedicationDispense.substitution.wasSubstituted" : for vs0.wasSubstituted make vt0.wasSubstituted 
    "MedicationDispense.substitution.type" : for vs0.type make vt0.type 
    "MedicationDispense.substitution.reason" : for vs0.reason make vt0.reason 
    "MedicationDispense.substitution.responsibleParty" : for vs0.responsibleParty make vt0.responsibleParty 
  }
  "MedicationDispense.detectedIssue" : for src.detectedIssue make tgt.detectedIssue 
  "MedicationDispense.eventHistory" : for src.eventHistory make tgt.eventHistory 
endgroup

