map "http://hl7.org/fhir/StructureMap/DocumentReference4to3" = "R4 to R3 Conversion for DocumentReference"


uses "http://hl7.org/fhir/StructureDefinition/DocumentReference" alias DocumentReference as source
uses "http://hl7.org/fhir/3.0/StructureDefinition/DocumentReference" alias DocumentReferenceR3 as target

imports "http://hl7.org/fhir/StructureMap/*4to3"



group for type+types DocumentReference extends DomainResource
  input src : DocumentReference as source
  input tgt : DocumentReferenceR3 as target

  "DocumentReference.masterIdentifier" : for src.masterIdentifier make tgt.masterIdentifier 
  "DocumentReference.identifier" : for src.identifier make tgt.identifier 
  "DocumentReference.status" : for src.status make tgt.status 
  "DocumentReference.docStatus" : for src.docStatus make tgt.docStatus 
  "DocumentReference.type" : for src.type make tgt.type 
  "DocumentReference.class" : for src.class make tgt.class 
  "DocumentReference.subject" : for src.subject make tgt.subject 
  "DocumentReference.created" : for src.created make tgt.created 
  "DocumentReference.custodian" : for src.custodian make tgt.custodian 
  "DocumentReference.relatesTo" : for src.relatesTo as vs0 make tgt.relatesTo as vt0 then {
    "DocumentReference.relatesTo.code" : for vs0.code make vt0.code 
    "DocumentReference.relatesTo.target" : for vs0.target make vt0.target 
  }
  "DocumentReference.description" : for src.description make tgt.description 
  "DocumentReference.securityLabel" : for src.securityLabel make tgt.securityLabel 
  "DocumentReference.content" : for src.content as vs0 make tgt.content as vt0 then {
    "DocumentReference.content.attachment" : for vs0.attachment make vt0.attachment 
    "DocumentReference.content.format" : for vs0.format make vt0.format 
  }
  "DocumentReference.context" : for src.context as vs0 make tgt.context as vt0 then {
    "DocumentReference.context.encounter" : for vs0.encounter make vt0.encounter 
    "DocumentReference.context.event" : for vs0.event make vt0.event 
    "DocumentReference.context.period" : for vs0.period make vt0.period 
    "DocumentReference.context.facilityType" : for vs0.facilityType make vt0.facilityType 
    "DocumentReference.context.practiceSetting" : for vs0.practiceSetting make vt0.practiceSetting 
    "DocumentReference.context.sourcePatientInfo" : for vs0.sourcePatientInfo make vt0.sourcePatientInfo 
  }
endgroup

