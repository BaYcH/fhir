map "http://hl7.org/fhir/StructureMap/Encounter3to4" = "R3 to R4 Conversions for Encounter"


uses "http://hl7.org/fhir/3.0/StructureDefinition/Encounter" alias EncounterR3 as source
uses "http://hl7.org/fhir/StructureDefinition/Encounter" alias Encounter as target

imports "http://hl7.org/fhir/StructureMap/*3to4"



group for type+types Encounter extends DomainResource
  input src : EncounterR3 as source
  input tgt : Encounter as target

  "Encounter.identifier" : for src.identifier make tgt.identifier 
  "Encounter.status" : for src.status make tgt.status 
  "Encounter.class" : for src.class make tgt.class 
  "Encounter.type" : for src.type make tgt.type 
  "Encounter.priority" : for src.priority make tgt.priority 
  "Encounter.subject" : for src.subject make tgt.subject 
  "Encounter.episodeOfCare" : for src.episodeOfCare make tgt.episodeOfCare 
  "Encounter.basedOn" : for src.incomingReferral make tgt.basedOn 
  "Encounter.participant" : for src.participant as vs0 make tgt.participant as vt0 then {
    "Encounter.participant.type" : for vs0.type make vt0.type 
    "Encounter.participant.period" : for vs0.period make vt0.period 
    "Encounter.participant.individual" : for vs0.individual make vt0.individual 
  }
  "Encounter.appointment" : for src.appointment make tgt.appointment 
  "Encounter.period" : for src.period make tgt.period 
  "Encounter.length" : for src.length make tgt.length 
  "Encounter.reason" : for src.reason make tgt.reason 
  "Encounter.account" : for src.account make tgt.account 
  "Encounter.hospitalization" : for src.hospitalization as vs0 make tgt.hospitalization as vt0 then {
    "Encounter.hospitalization.preAdmissionIdentifier" : for vs0.preAdmissionIdentifier make vt0.preAdmissionIdentifier 
    "Encounter.hospitalization.origin" : for vs0.origin make vt0.origin 
    "Encounter.hospitalization.admitSource" : for vs0.admitSource make vt0.admitSource 
    "Encounter.hospitalization.reAdmission" : for vs0.reAdmission make vt0.reAdmission 
    "Encounter.hospitalization.dietPreference" : for vs0.dietPreference make vt0.dietPreference 
    "Encounter.hospitalization.specialCourtesy" : for vs0.specialCourtesy make vt0.specialCourtesy 
    "Encounter.hospitalization.specialArrangement" : for vs0.specialArrangement make vt0.specialArrangement 
    "Encounter.hospitalization.destination" : for vs0.destination make vt0.destination 
    "Encounter.hospitalization.dischargeDisposition" : for vs0.dischargeDisposition make vt0.dischargeDisposition 
  }
  "Encounter.location" : for src.location as vs0 make tgt.location as vt0 then {
    "Encounter.location.location" : for vs0.location make vt0.location 
    "Encounter.location.status" : for vs0.status make vt0.status 
    "Encounter.location.period" : for vs0.period make vt0.period 
  }
  "Encounter.serviceProvider" : for src.serviceProvider make tgt.serviceProvider 
  "Encounter.partOf" : for src.partOf make tgt.partOf 
endgroup

