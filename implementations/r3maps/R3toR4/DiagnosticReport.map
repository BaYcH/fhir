map "http://hl7.org/fhir/StructureMap/DiagnosticReport3to4" = "R3 to R4 Conversions for DiagnosticReport"


uses "http://hl7.org/fhir/3.0/StructureDefinition/DiagnosticReport" alias DiagnosticReportR3 as source
uses "http://hl7.org/fhir/StructureDefinition/DiagnosticReport" alias DiagnosticReport as target

imports "http://hl7.org/fhir/StructureMap/*3to4"



group for type+types DiagnosticReport extends DomainResource
  input src : DiagnosticReportR3 as source
  input tgt : DiagnosticReport as target

  "DiagnosticReport.identifier" : for src.identifier make tgt.identifier 
  "DiagnosticReport.basedOn" : for src.basedOn make tgt.basedOn 
  "DiagnosticReport.status" : for src.status make tgt.status 
  "DiagnosticReport.category" : for src.category make tgt.category 
  "DiagnosticReport.code" : for src.code make tgt.code 
  "DiagnosticReport.subject" : for src.subject make tgt.subject 
  "DiagnosticReport.context" : for src.context make tgt.context 
  "DiagnosticReport.effective-dateTime" : for src.effective : dateTime as vs make tgt.effective = create("dateTime") as vt then dateTime(vs,vt)
  "DiagnosticReport.effective-Period" : for src.effective : Period as vs make tgt.effective = create("Period") as vt then Period(vs,vt)
  "DiagnosticReport.issued" : for src.issued make tgt.issued 
  "DiagnosticReport.specimen" : for src.specimen make tgt.specimen 
  "DiagnosticReport.result" : for src.result make tgt.result 
  "DiagnosticReport.imagingStudy" : for src.imagingStudy make tgt.imagingStudy 
  "DiagnosticReport.media" : for src.image as vs0 make tgt.media as vt0 then {
    "DiagnosticReport.media.comment" : for vs0.comment make vt0.comment 
    "DiagnosticReport.media.link" : for vs0.link make vt0.link 
  }
  "DiagnosticReport.conclusion" : for src.conclusion make tgt.conclusion 
  "DiagnosticReport.codedDiagnosis" : for src.codedDiagnosis make tgt.conclusionCode 
  "DiagnosticReport.presentedForm" : for src.presentedForm make tgt.presentedForm 
endgroup

