map "http://hl7.org/fhir/StructureMap/Dosage3to4" = "R3 to R4 Conversions for Dosage"


uses "http://hl7.org/fhir/3.0/StructureDefinition/Dosage" alias DosageR3 as source
uses "http://hl7.org/fhir/StructureDefinition/Dosage" alias Dosage as target

imports "http://hl7.org/fhir/StructureMap/*3to4"



group for type+types Dosage extends BackboneElement
  input src : DosageR3 as source
  input tgt : Dosage as target

  "Dosage.sequence" : for src.sequence make tgt.sequence 
  "Dosage.text" : for src.text make tgt.text 
  "Dosage.additionalInstruction" : for src.additionalInstruction make tgt.additionalInstruction 
  "Dosage.patientInstruction" : for src.patientInstruction make tgt.patientInstruction 
  "Dosage.timing" : for src.timing make tgt.timing 
  "Dosage.asNeeded-boolean" : for src.asNeeded : boolean as vs make tgt.asNeeded = create("boolean") as vt then boolean(vs,vt)
  "Dosage.asNeeded-CodeableConcept" : for src.asNeeded : CodeableConcept as vs make tgt.asNeeded = create("CodeableConcept") as vt then CodeableConcept(vs,vt)
  "Dosage.site" : for src.site make tgt.site 
  "Dosage.route" : for src.route make tgt.route 
  "Dosage.method" : for src.method make tgt.method 
  "Dosage.maxDosePerPeriod" : for src.maxDosePerPeriod make tgt.maxDosePerPeriod 
  "Dosage.maxDosePerAdministration" : for src.maxDosePerAdministration make tgt.maxDosePerAdministration 
  "Dosage.maxDosePerLifetime" : for src.maxDosePerLifetime make tgt.maxDosePerLifetime 
endgroup

