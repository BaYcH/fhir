<?xml version="1.0" encoding="UTF-8"?>

<Observation xmlns="http://hl7.org/fhir">
    <id value="genetics-example1-somatic"/>
    <contained>
        <Condition>
            <id value="c1"/>
            <patient>
                <reference value="Patient/p1"/>
            </patient>
            <code>
                <coding>
                    <system value="http://snomed.info/sct"/>
                    <code value="254626006"/>
                </coding>
                <text value="Adenocarcinoma of lungÂ "/>
            </code>
            <category>
                <coding>
                    <system value="http://hl7.org/fhir/condition-category"/>
                    <code value="finding"/>
                    <display value="Finding"/>
                </coding>
            </category>
            <verificationStatus value="provisional"/>
        </Condition>
    </contained>
    <extension url="http://hl7.org/fhir/StructureDefinition/geneticsGenomeBuild">
        <valueString value="GRCh 37"/>
    </extension>
    <extension url="http://hl7.org/fhir/StructureDefinition/geneticsChromosome">
        <valueString value="7"/>
    </extension>
    <extension url="http://hl7.org/fhir/StructureDefinition/geneticsGenomicStart">
        <valueInteger value="55259515"/>
    </extension>
    <extension url="http://hl7.org/fhir/StructureDefinition/geneticsGenomicStop">
        <valueInteger value="55259516"/>
    </extension>
    <extension url="http://hl7.org/fhir/StructureDefinition/geneticsSpecies">
        <valueCodeableConcept>
            <coding>
                <system value="http://snomed.info/sct"/>
                <code value="337915000"/>
            </coding>
            <text value="Homo sapiens"/>
        </valueCodeableConcept>
    </extension>
    <extension url="http://hl7.org/fhir/StructureDefinition/geneticsCIGAR">
        <valueString value="1M"/>
    </extension>
    <extension url="http://hl7.org/fhir/StructureDefinition/geneticsAssessedCondition">
        <valueReference>
            <reference value="#c1"/>
        </valueReference>
    </extension>

    <status value="final"/>
    <code>
        <coding>
            <system value="http://loinc.org"/>
            <code value="21665-5"/>
            <display value="EGFR gene mutation analysis"/>
        </coding>
    </code>
    <subject>
        <reference value="Patient/genetics-example1-somatic"/>
        <display value="Molecular Lab Patient ID: HOSP-23456"/>
    </subject>
    <performer>
        <reference value="Practitioner/genetics-example1-somatic"/>
        <display value="Molecular Diagnostic Laboratory"/>
    </performer>
    <interpretation>
        <coding>
            <system value="http://hl7.org/fhir/v2/0078"/>
            <code value="POS"/>
        </coding>
        <text value="positive"/>
    </interpretation>
    <comments value="The EGFR p.L858R mutation has been associated with response to anti-EGFR therapy"/>
    <specimen>
        <reference value="Specimen/genetics-example1-somatic"/>
        <display value="Molecular Specimen ID: MLD45-Z4-1234"/>
    </specimen>
    
    <component>
        <code>
            <coding>
                <system value="http://loinc.org"/>
                <code value="69547-8"/>
                <display value="Reference Nucleotide"/>
            </coding>
        </code>
        <valueString value="T"/>
    </component>
    <component>
        <code>
            <coding>
                <system value="http://loinc.org"/>
                <code value="69551-0"/>
                <display value="Variable Nucleotide"/>
            </coding>
        </code>
        <valueString value="G"/>
    </component>
    
    <component>
        <code>
            <coding>
                <system value="http://loinc.org"/>
                <code value="48018-6"/>
                <display value="Gene Identifier"/>
            </coding>
        </code>
        <valueCodeableConcept>
            <coding>
                <system value="http://www.genenames.org"/>
                <code value="3236"/>
                <display value="EGFR"/>
            </coding>
        </valueCodeableConcept>
    </component>
    

    

</Observation>
